# hadolint ignore=DL3007
# Stage 1: Builder (not strictly necessary for static files, but shows the concept)
FROM node:20-alpine AS builder

WORKDIR /app
COPY index.html .

# Stage 2: Runner
# Use a minimal, security-oriented base image like Nginx-alpine
FROM nginx:alpine

# Copy the built assets from the builder stage to the Nginx serving directory
COPY --from=builder /app/index.html /usr/share/nginx/html/index.html

# Security Best Practice: Run as a non-root user
# Nginx-alpine typically sets up an 'nginx' user automatically.
# The default 'nginx' user in the official alpine image already runs as non-root
# if you are only serving static files.

# Expose port 80 for the web traffic
EXPOSE 80

# Command to run Nginx (default in Nginx images)
CMD ["nginx", "-g", "daemon off;"]
